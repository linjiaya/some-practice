<!DOCTYPE HTML> 
<html> 
<head> 
  <meta charset="utf-8" /> 
  <title>闭包演示</title> 
  <style type="text/css"> 
    p {background:gold;} 
  </style> 
  <script type="text/javascript"> 
    function init() {
     var pAry = document.getElementsByTagName("p"); 
     for( var i=0; i<pAry.length; i++ ) { 
      /*响应函数function(){alert(i);}中的 i 并非每次循环时对应的 i(如0，1，2，3，4)而是循环后最后 i 的值5。 或者说循环时响应函数内并未能保存对应的值 i，而是最后一次i++的值5。*/
      pAry[i].onclick = function() { alert(i); 
      }
    }
  }
  function init1() { 
    var pAry = document.getElementsByTagName("p");
    for( var i=0; i<pAry.length; i++ ) { 
      pAry[i].i = i; 
      pAry[i].onclick = function() { 
        alert(this.i);
      }
    }
  }
</script>
</head>
<body onload="init1();">
  <p>产品 0</p> 
  <p>产品 1</p>
  <p>产品 2</p>
  <p>产品 3</p> 
  <p>产品 4</p>
</body>
</html>